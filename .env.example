# ============================================
# Smart Forecast - Environment Variables
# Copy this file to .env and fill in your values
# ============================================

# ====== Application ======
NODE_ENV=development
PORT=8000

# ====== PostgreSQL Database ======
# For historical data
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=admin
POSTGRES_PASSWORD=admin
POSTGRES_DB=smart_forecast_db

# ====== MongoDB ======
# For Orion-LD Context Broker
MONGO_HOST=mongo
MONGO_PORT=27017
MONGO_USER=admin
MONGO_PASSWORD=admin
MONGO_DB=orion

# ====== Orion-LD Context Broker ======
ORION_LD_URL=http://orion:1026
ORION_LD_API_VERSION=ngsi-ld/v1
ORION_LD_TENANT=

# ====== MinIO (S3-compatible storage) ======
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}
MINIO_BUCKET=incidents

# ====== Backend Database Connection ======
DB_HOST=postgres
DB_PORT=5432
DB_USER=${POSTGRES_USER}
DB_PASSWORD=${POSTGRES_PASSWORD}
DB_NAME=${POSTGRES_DB}

# OpenWeatherMap API for Weather Data
OWM_API_URL=https://api.openweathermap.org/data/2.5
OWM_API_KEY=your_openweathermap_api_key_here

# ====== Firebase Cloud Messaging ======
# For push notifications to mobile app
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY=your_firebase_private_key
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
# Or use service account file path
FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-service-account.json

# ====== JWT Authentication ======
JWT_SECRET=your_very_secure_jwt_secret_key_change_this_in_production
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_jwt_refresh_secret
JWT_REFRESH_EXPIRES_IN=30d

# ====== CORS Configuration ======
CORS_ORIGIN=http://localhost:3000,http://localhost:19006
CORS_CREDENTIALS=true

# ====== Rate Limiting ======
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX_REQUESTS=100

# ====== Data Ingestion Cron Jobs ======
# Air Quality: every 30 minutes
AIR_QUALITY_CRON=0 */30 * * * *
# Weather: every hour
WEATHER_CRON=0 0 * * * *

# ====== Logging ======
LOG_LEVEL=info
LOG_FORMAT=json

# ====== Web Frontend (Next.js) ======
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_MAPBOX_TOKEN=your_mapbox_access_token_here
NEXT_PUBLIC_APP_NAME=Smart Forecast
NEXT_PUBLIC_APP_VERSION=1.0.0

# ====== Mobile App (Expo) ======
EXPO_PUBLIC_API_URL=http://localhost:8000/api/v1
EXPO_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_firebase_auth_domain
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_firebase_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_firebase_storage_bucket
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_firebase_messaging_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_firebase_app_id

# ====== Initial Admin Account ======
ADMIN_EMAIL=admin@smartforecast.com
ADMIN_PASSWORD=admin123456
ADMIN_FULL_NAME=System Administrator

# ====== Optional: Sentry Error Tracking ======
# SENTRY_DSN=your_sentry_dsn_here
# SENTRY_ENVIRONMENT=development

# ====== Optional: Redis Caching ======
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password
# REDIS_DB=0

# ====== Docker Compose ======
COMPOSE_PROJECT_NAME=smartforecast

# ====== Development Tools ======
# Enable development features
DEV_MODE=true
DEBUG=false