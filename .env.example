# ============================================
# üåç Smart Forecast - Environment Configuration
# ============================================
# Copy this file to .env before running docker compose
#
# L∆∞u √Ω: ƒê√¢y l√† file c·∫•u h√¨nh cho Docker Compose
# C√°c file .env kh√°c:
#   - backend/.env       : C·∫•u h√¨nh NestJS backend
#   - mobile/.env        : C·∫•u h√¨nh Expo mobile app
#   - web/.env.local     : C·∫•u h√¨nh Next.js web
# ============================================

# ====== Docker Compose ======
COMPOSE_PROJECT_NAME=smartforecast

# ============================================
# DATABASE CONFIGURATION
# ============================================

# ------ PostgreSQL Database ------
# L∆∞u tr·ªØ d·ªØ li·ªáu l·ªãch s·ª≠ v√† d·ªØ li·ªáu ·ª©ng d·ª•ng
POSTGRES_USER=admin
POSTGRES_PASSWORD=changeme_in_production
POSTGRES_DB=smart_forecast_db

# ------ MongoDB (for Orion-LD) ------
# L∆∞u tr·ªØ context data cho FIWARE Orion-LD
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=changeme_in_production

# ============================================
# STORAGE CONFIGURATION
# ============================================

# ------ MinIO Object Storage ------
# L∆∞u tr·ªØ file, ·∫£nh s·ª± c·ªë (S3-compatible)
# API: http://localhost:8002 (mapped from internal 9000)
# Console: http://localhost:8003 (mapped from internal 9001)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme_in_production
MINIO_BUCKET_NAME=incidents

# ============================================
# FIWARE CONFIGURATION
# ============================================

# ------ Orion-LD Context Broker ------
# Qu·∫£n l√Ω context data theo chu·∫©n NGSI-LD
# Internal only - not exposed externally
# Log levels: DEBUG, INFO, WARN, ERROR
ORION_LOG_LEVEL=DEBUG
ORION_LD_TENANT=

# ============================================
# BACKEND CONFIGURATION
# ============================================

# ------ CORS Configuration ------
# Additional CORS origins (comma-separated)
# Example: http://192.168.1.100:8001,https://your-domain.com
CORS_ORIGINS=

# ------ JWT Authentication ------
JWT_SECRET=your_very_secure_jwt_secret_key_change_this_in_production
JWT_EXPIRATION=7d

# ------ External APIs ------
OPENWEATHERMAP_API_KEY=your_openweathermap_api_key_here

# ------ Firebase Cloud Messaging (Optional) ------
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# ------ Google OAuth 2.0 (for Mobile) ------
GOOGLE_CLIENT_ID=

# ------ Alert Configuration ------
ALERT_BUFFER_KM=1

# ============================================
# WEB FRONTEND CONFIGURATION
# ============================================

# ------ API URLs for Web Frontend ------
# Replace YOUR_SERVER_IP with actual server IP/domain for production
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_MINIO_URL=http://localhost:8002

# ============================================
# PORT MAPPING (for reference)
# ============================================
# Service        | Internal | External | Purpose
# ---------------|----------|----------|------------------
# backend        | 8000     | 8000     | API server
# web            | 3000     | 8001     | Frontend
# minio API      | 9000     | 8002     | Object storage
# minio console  | 9001     | 8003     | Storage admin UI
# postgres       | 5432     | -        | Internal only
# mongodb        | 27017    | -        | Internal only
# orion          | 1026     | -        | Internal only
# ============================================

# ============================================
# NOTES
# ============================================
# 
# QUAN TR·ªåNG: Thay ƒë·ªïi t·∫•t c·∫£ passwords tr∆∞·ªõc khi deploy production!
#
# Xem th√™m h∆∞·ªõng d·∫´n c·∫•u h√¨nh chi ti·∫øt:
#    - backend/.env.example  : API keys, JWT, Firebase
#    - mobile/.env.example   : Google OAuth, API URL
#    - docs-site/docs/env.md : T√†i li·ªáu ƒë·∫ßy ƒë·ªß
#
# Quick Start:
#    cp .env.example .env
#    docker compose up -d
# ============================================
